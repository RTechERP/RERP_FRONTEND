<div class="modal-header bg-primary align-items-center ps-2">
  <h6 class="text-light text-uppercase m-0">Chi tiết ưu tiên dự án</h6>
</div>

<div class="modal-body p-1">
  <div class="row">
    <div class="col-12 col-lg-12">
      <div class="form-group col-sm-12 p-1">
        <label for="" class="fs-12"
          >Mã ưu tiên <span style="color: red">(*)</span></label
        >
        <input
          class="form-control form-control-sm fs-12"
          [(ngModel)]="priorityCode"
          type="text"
        />
      </div>
      <div class="form-group col-sm-12 p-1">
        <label for="" class="fs-12"
          >Loại ưu tiên <span style="color: red">(*)</span></label
        >
        <ng-select
          [items]="prioritys"
          bindValue="ID"
          bindLabel="ProjectCheckpoint"
          [(ngModel)]="priority"
          [searchable]="true"
          placeholder="Chọn loại ưu tiên..."
          [clearable]="true"
          [virtualScroll]="true"
          class="form-control form-control-sm p-0 border border-0 me-1"
        >
          <!-- Template hiển thị các lựa chọn trong dropdown -->
          <ng-template ng-option-tmp let-item="item">
            <div class="row text-dark w-100">
              <div class="col-3 ms-1">
                <span class="fs-12">{{ item.ProjectCheckpoint }}</span>
              </div>
            </div>
          </ng-template>

          <!-- Template hiển thị sau khi chọn -->
          <ng-template ng-label-tmp let-item="item">
            <div
              class="d-inline-block text-truncate"
              style="
                max-width: 100%;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
              "
            >
              <span class="fs-12">{{ item.ProjectCheckpoint }}</span>
            </div>
          </ng-template>
        </ng-select>
      </div>
      <div class="d-flex">
        <div class="form-group col-sm-6 p-1">
          <label for="" class="fs-12"
            >Trọng số <span class="me-1">(%)</span>
            <span style="color: red">(*)</span></label
          >
          <input
            class="form-control form-control-sm fs-12"
            type="number"
            step="0.01"
            [(ngModel)]="rate"
            min="0"
            max="1"
          />
        </div>
        <div class="form-group col-sm-6 p-1">
          <label for="" class="fs-12"
            >Điểm <span style="color: red">(*)</span></label
          >
          <ng-select
            [items]="points"
            bindValue="ID"
            bindLabel="ProjectCheckpoint"
            [(ngModel)]="point"
            [searchable]="true"
            placeholder="Chọn số điểm..."
            [clearable]="true"
            [virtualScroll]="true"
            class="form-control form-control-sm p-0 border border-0 me-1"
          >
            <!-- Template hiển thị các lựa chọn trong dropdown -->
            <ng-template ng-option-tmp let-item="item">
              <div class="row text-dark w-100">
                <div class="col-3 ms-1">
                  <span class="fs-12">{{ item.point }}</span>
                </div>
              </div>
            </ng-template>

            <!-- Template hiển thị sau khi chọn -->
            <ng-template ng-label-tmp let-item="item">
              <div
                class="d-inline-block text-truncate"
                style="
                  max-width: 100%;
                  overflow: hidden;
                  text-overflow: ellipsis;
                  white-space: nowrap;
                "
              >
                <span class="fs-12">{{ item.point }}</span>
              </div>
            </ng-template>
          </ng-select>
        </div>
      </div>
      <div class="form-group col-sm-12 p-1">
        <label for="description" class="fs-12"
          >CheckPoint <span style="color: red">(*)</span></label
        >
        <textarea
          id="description"
          class="form-control form-control-sm fs-12"
          rows="5"
          [(ngModel)]="projectCheckpoint"
          placeholder="CheckPoint..."
        ></textarea>
      </div>
    </div>
  </div>
</div>

<div class="modal-footer bg-whitesmoke br p-1">
  <button
    type="button"
    class="btn btn-sm btn-close-modal btn-outline-danger fs-12"
    (click)="activeModal.dismiss()"
  >
    Đóng
  </button>
  <button
    type="button"
    style="background-color: limegreen"
    class="btn btn-sm text-light fs-12"
    (click)="saveProjectPriority()"
  >
    <i class="fas fa-sd-card"></i>
    Lưu
  </button>
</div>
