
  <!-- Button toolbar -->
  <div class="button-section">
    <!-- Search group -->
    <div class="button-group">
      <div class="input-group">
        <input type="text" class="form-control form-control-sm" [(ngModel)]="searchText" (input)="onSearchChange($event)" placeholder="Tìm kiếm...">
      </div>
    </div>

    <div class="vr mt-2"></div>
    <!-- Action buttons group -->
    <div class="button-group">
      <button class="btn btn-outline-success" (click)="openModalForNewProduct()">
        <i class="fa-solid fa-plus"></i> Thêm
      </button>
      <button class="btn btn-outline-warning" (click)="edit()">
        <i class="fa-solid fa-pen-to-square"></i> Sửa
      </button>
      <button class="btn btn-outline-danger" (click)="delete()">
        <i class="fa-solid fa-trash"></i> Xóa
      </button>
    </div>

    <div class="vr mt-2"></div>

    <!-- Excel import/export group -->
    <div class="button-group">
      <button class="btn btn-outline-success" (click)="exportToExcel()">
        <i class="fa-solid fa-file-excel"></i> Xuất Excel
      </button>
      <button class="btn btn-outline-success" (click)="importFromExcel()">
        <i class="fa-solid fa-file-import"></i> Nhập Excel
      </button>
    </div>
  </div>

  <!-- Table section -->
  <div class="table-container mt-3">
    <div id="datatable"></div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="detailProductModal" tabindex="-1" aria-labelledby="addProductModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div  class="modal-header">
          <h5 class="modal-title" id="addProductModalLabel">Chi tiết sản phẩm</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="row g-3 needs-validation was-validated" novalidate>

            <div class="row mb-3">
              <div class="col md-6">
                <label for="CodeRTC" class="form-label">Mã RTC <sup style="color: red;">(*)</sup></label>
                <input type="text" class="form-control" [(ngModel)]="newProduct.CodeRTC" name="CodeRTC" readonly>
              </div>
              <div class="col md-6">
                <label for="CodeNCC" class="form-label">Mã NCC <sup style="color: red;">(*)</sup></label>
                <input type="text" class="form-control" [(ngModel)]="newProduct.CodeNCC" name="CodeNCC"
                  placeholder="Nhập mã NCCC" required>
                <div class="invalid-feedback">
                  Vui lòng nhập mã nhà cung cấp!
                </div>
              </div>
            </div>

            <div class="row mb-3">
              <div>
                <div class="col md-12">
                  <label for="NameRTC" class="form-label">Tên RTC <sup style="color: red;">(*)</sup></label>
                  <input type="text" class="form-control" [(ngModel)]="newProduct.NameRTC" name="NamRTC"
                    placeholder="Nhập tên RTC">
                </div>
              </div>

            </div>
            <div class="row mb-3">
              <div>
                <div class="col md-12">
                  <label for="NameNCC" class="form-label">Tên NCC <sup style="color: red;">(*)</sup></label>
                  <input type="text" class="form-control" [(ngModel)]="newProduct.NameNCC" name="NameNCC"
                    placeholder="Nhập tên NCC" required>
                  <div class="invalid-feedback">
                    Vui lòng nhập tên nhà cung cấp!
                  </div>
                </div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col md-6">
                <label for="SupplyUnitID" class="form-label">Đơn vị tính <sup style="color: red;">(*)</sup></label>
                <div class="d-flex gap-2 align-items-center" style="height: 40x;">
                  <ng-select [items]="listUnit" bindLabel="Name" bindValue="ID" [(ngModel)]="newProduct.SupplyUnitID"
                    name="SupplyUnitID" placeholder="Chọn đơn vị" class="flex-grow-1" required>
                  </ng-select>
                  <button type="button" class="btn btn-outline-primary d-flex align-items-center justify-content-center"
                    style="width: 31px; height: 31px; padding: 0;" data-bs-toggle="modal"
                    data-bs-target="#addUnitModal">
                    <i class="fa-solid fa-plus"></i>
                  </button>
                </div>
                <div class="invalid-feedback">
                  Vui lòng chọn đơn vị tính!
                </div>
              </div>
              <div class="col md-6">
                <label for="Price" class="form-label">Giá sản phẩm<sup style="color: red;">(*)</sup></label>
                <input style="text-align: right;" type="number" min="1" class="form-control" [(ngModel)]="newProduct.Price"
                  placeholder="Nhập giá" name="Price" required>
                <div class="invalid-feedback">
                  Vui lòng nhập giá sản phẩm!
                </div>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col md-6">
                <label for="RequestLimit" class="form-label">Định mức</label>
                <input type="number" style="text-align: right;" class="form-control"
                  [(ngModel)]="newProduct.RequestLimit" placeholder="" name="RequestLimit" required>
              </div>
              <div class="col md-6">
                <label for="Type" class="form-label">Chọn loại sản phẩm<sup style="color: red;">(*)</sup></label>
                <ng-select [items]="typeOptions" bindLabel="name" bindValue="id" [(ngModel)]="newProduct.Type"
                  name="Type" placeholder="Chọn loại sản phẩm" required>
                </ng-select>
                <div class="invalid-feedback">
                  Vui lòng chọn loại sản phẩm!
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Đóng</button>
          <button type="submit" class="btn btn-outline-primary" (click)="isCheckmode? update(): add()">Lưu</button>

        </div>
      </div>
    </div>
  </div>

  <!-- Modal thêm đơn vị tính -->
  <div class="modal fade" id="addUnitModal" tabindex="-1" aria-labelledby="addUnitModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div  style="background-color: #caced2; text-align: center;"class="modal-header">
          <h5 class="modal-title" id="addUnitModalLabel">Thêm đơn vị tính mới</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="needs-validation" novalidate>
            <div class="mb-3">
            </div>
            <div class="mb-3">
              <label for="unitName" class="form-label">Tên đơn vị <sup style="color: red;">(*)</sup></label>
              <input type="text" class="form-control" id="unitName" [(ngModel)]="newUnit.Name" name="unitName" required placeholder="Nhập tên đơn vị">
              <div class="invalid-feedback">
                Vui lòng nhập tên đơn vị!
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Đóng</button>
          <button type="button" class="btn btn-outline-primary" (click)="addNewUnit()">Lưu</button>
        </div>
      </div>
    </div>
  </div>
